<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=640" />

    <link rel="stylesheet" href="stylesheets/core.css" media="screen"/>
    <link rel="stylesheet" href="stylesheets/mobile.css" media="handheld, only screen and (max-device-width:640px)"/>
    <link rel="stylesheet" href="stylesheets/pygment_trac.css"/>

    <script type="text/javascript" src="javascripts/modernizr.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="javascripts/headsmart.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function () {
        $('#main_content').headsmart()
      })
    </script>
    <title>Fsloader by caiofranchi</title>
  </head>

  <body>
    <a id="forkme_banner" href="https://github.com/caiofranchi/fsloader">View on GitHub</a>
    <div class="shell">

      <header>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <h1>Fsloader</h1>
            <h2>A complete lib for single loading, queue loading and preloading assets.</h2>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
      </header>

      <section id="downloads">
        <span class="inner">
          <a href="https://github.com/caiofranchi/fsloader/zipball/master" class="zip"><em>download</em> .ZIP</a><a href="https://github.com/caiofranchi/fsloader/tarball/master" class="tgz"><em>download</em> .TGZ</a>
        </span>
      </section>


      <span class="banner-fix"></span>


      <section id="main_content">
        <h1>FSLoader</h1>

<p>A complete and lightweight lib for single loading, queue loading and preloading HTML assets.</p>

<h2>FEATURES</h2>

<ul>
<li>Load both binary (Sound files, images) and text files (JSON, XML, TEXT, CSS, JAVASCRIPT, SVG, XML)</li>
<li>XHR2 ready</li>
<li>Lightweight</li>
<li>Preloading</li>
<li>Lazy Loading</li>
<li>Queue Loading</li>
</ul><h2>EXAMPLES</h2>

<h3>SETTING UP A SIMPLE FS LOADER</h3>

<div class="highlight"><pre>var MainLoader = new FSLoader();
MainLoader.load("//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js",{oncomplete:onCompleteJquery});

function onCompleteJquery(){
    console.log(this.data);
}
</pre></div>

<h3>LOADABLE FILE TYPES</h3>

<div class="highlight"><pre>//FSLoaderHelpers.TYPE_CSS // DEFAULT
//FSLoaderHelpers.TYPE_JAVASCRIPT : "script",
//FSLoaderHelpers.TYPE_CSS : "css",
//FSLoaderHelpers.TYPE_IMAGE : "image",
//FSLoaderHelpers.TYPE_SOUND : "sound",
//FSLoaderHelpers.TYPE_JSON : "json",
//FSLoaderHelpers.TYPE_XML : "xml",
//FSLoaderHelpers.TYPE_SVG : "svg",
//FSLoaderHelpers.TYPE_TEXT : "text"

var MainLoader = new FSLoader();
MainLoader.load("img/logo.png",{oncomplete:onCompleteImage, loadingType: FSLoaderHelpers.LOAD_AS_BLOB});

function onCompleteImage(){
    console.log(this.data);
}
</pre></div>

<h3>LOADING TYPES</h3>

<div class="highlight"><pre>//FSLoaderHelpers.LOAD_AS_TAGS // DEFAULT
//FSLoaderHelpers.LOAD_AS_ARRAY_BUFFER
//FSLoaderHelpers.LOAD_AS_BLOB
//FSLoaderHelpers.LOAD_AS_XHR

var MainLoader = new FSLoader();
MainLoader.load("img/logo.png",{oncomplete:onCompleteImage, loadingType: FSLoaderHelpers.LOAD_AS_BLOB});

function onCompleteImage(){
    console.log(this.data);
}
</pre></div>

<h3>RETRIES</h3>

<div class="highlight"><pre>var MainLoader = new FSLoader();
MainLoader.load("img/logo.png",{oncomplete:onCompleteImage, onerror:onErrorLoadingImage, retries:3});

function onCompleteImage() {
    console.log(this.data);
}

function onErrorLoadingImage() {
    console.log("ERRO LOADING"+this);
}
</pre></div>

<h3>SETTING UP A QUEUE</h3>

<div class="highlight"><pre>var queue  = new FSLoaderQueue({onqueuecomplete:onCompleteQueue, onqueueprogress:onProgressQueue);
queue.add("img/logo.png");
queue.add("//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js", {id:"jquery-external", oncomplete:onCompletejQuery});
queue.add("js/libs/jquery-1.8.0.min.js");
queue.add("logo.php", {type:FSLoaderHelpers.TYPE_CSS});
queue.start();

function onProgressQueue () {
    console.log("Progress: "+this.progress);
}

function onCompleteQueue () {
    console.log("Queue Complete");
}

</pre></div>

<h3>QUEUE EVENTS</h3>

<h3>PRELOADER</h3>

<div class="highlight"><pre><span class="c">&lt;!-- SET THE ITEMS THAT YOU WANT TO PRELOAD WITH THE DATA TAG 'data-preload="true"' --&gt;</span>
<span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"img/logo.png"</span> <span class="na">data-preload=</span><span class="s">"true"</span> <span class="nt">/&gt;</span>
</pre></div>

<div class="highlight"><pre>preload = new FSPreloader({onqueuecomplete: onCompleteQueue, onqueueprogress: onQueueProgress, ignoreErrors: true});
preload.parseDocument({cssDependencies: true}); //cssDepencies:true parse the loaded CSS and load the background-images used

preload.add("img/logo.png"); //add another item
preload.start(); //start preloading

function onQueueProgress () {
    console.log(this.progress); //the total progress percentage of the loaded queue
}

function onCompleteQueue () {
    console.log("PRELOAD COMPLETE");
}

</pre></div>

<h3>MIXING PRELOADER</h3>

<p>The FSPreloader Class extendes the FSLoaderQueue Class, that means that you can interact with a preloader almost like a queue.
So, you can also add another items to preload that aren't on the DOM.</p>

<div class="highlight"><pre>preload = new FSPreloader({onqueuecomplete: onCompleteQueue, onqueueprogress: onQueueProgress});
preload.parseDocument({cssDependencies: true});

preload.add("img/logo.png"); //add another item
preload.add("services/test.php", {id:"LoginService", myParam:"example", type:FSLoaderHelpers.TYPE_JSON, loadingType:FSLoaderHelpers.LOAD_AS_XHR}); //add a service

preload.start(); //start preloading

function onQueueProgress () {
    console.log(this.progress); //the total progress percentage of the loaded queue
}

function onCompleteQueue () {
    console.log("PRELOAD COMPLETE");

    //getting an specific item by ID, if specified on loading
    var item = preload.get("LoginService"); //return a FSLoaderItem, feel free to manipulate it =)
    console.log(item.data);
}

</pre></div>

<h2>Contributing</h2>

<p>Feel free to fork and add issues =)</p>

<h2>Project information</h2>

<ul>
<li>+(</li>
</ul><h2>License</h2>
      </section>

      <footer>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <p>this project by <a href="https://github.com/caiofranchi">caiofranchi</a> can be found on <a href="https://github.com/caiofranchi/fsloader">GitHub</a></p>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
        <p>Generated with <a href="http://pages.github.com">GitHub Pages</a> using Merlot</p>
        <span class="octocat"></span>
      </footer>

    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-36498228-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
